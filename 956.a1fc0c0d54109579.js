"use strict";(self.webpackChunkng_host_demo=self.webpackChunkng_host_demo||[]).push([[956],{956:(g,c,o)=>{o.r(c),o.d(c,{GoVisitModule:()=>p});var u=o(895),n=o(322);const r={production:!1,frameUrl:"http://localhost:4200"};var s=o(256),f=o(481);const l=["iframe"];console.log({environment:r});const m=[{path:"**",component:(()=>{class t{constructor(e,i){this.router=e,this.sanitizer=i,this.appPrefix="/govisit",this.height="100%",this.frameUrl=r.frameUrl}getSourceUrl(){return this.sanitizer.bypassSecurityTrustResourceUrl(r.frameUrl)}ngAfterViewInit(){this.iframe.nativeElement.src=r.frameUrl,this.subscription=this.router.events.subscribe(e=>{e instanceof n.m2&&this.notifyRoute()}),window.addEventListener("message",e=>{"resize"===e.data.type&&(this.height=e.data.height+50),"route-changed"===e.data.type&&this.router.navigate([`${this.appPrefix}/${e.data.route}`])}),window.addEventListener("resize",()=>this.resize()),this.resize(),this.iframe.nativeElement.addEventListener("load",()=>{this.notifyRoute()},{once:!0})}ngOnDestroy(){this.subscription?.unsubscribe()}notifyRoute(){this.iframe?.nativeElement.contentWindow?.postMessage({type:"route-changed",route:this.router.url.replace(new RegExp(`^/?${this.appPrefix}`),"")},"*")}resize(){this.iframe?.nativeElement.contentWindow?.postMessage("resize-request","*")}static#t=this.\u0275fac=function(i){return new(i||t)(s.Y36(n.F0),s.Y36(f.H7))};static#e=this.\u0275cmp=s.Xpm({type:t,selectors:[["app-go-visit"]],viewQuery:function(i,a){if(1&i&&s.Gf(l,5),2&i){let h;s.iGM(h=s.CRH())&&(a.iframe=h.first)}},decls:2,vars:1,consts:[["width","100%","allowfullscreen","",2,"border","0",3,"height"],["iframe",""]],template:function(i,a){1&i&&s._UZ(0,"iframe",0,1),2&i&&s.Q6J("height",a.height)},styles:["iframe[_ngcontent-%COMP%]{overflow:hidden}"]})}return t})()}];let d=(()=>{class t{static#t=this.\u0275fac=function(i){return new(i||t)};static#e=this.\u0275mod=s.oAB({type:t});static#i=this.\u0275inj=s.cJS({imports:[n.Bz.forChild(m),n.Bz]})}return t})(),p=(()=>{class t{static#t=this.\u0275fac=function(i){return new(i||t)};static#e=this.\u0275mod=s.oAB({type:t});static#i=this.\u0275inj=s.cJS({imports:[u.ez,d]})}return t})()}}]);